// Import the readline module
const readline = require('readline');

// Import the functions from functions.js
const {
  isValidEmail,
  hasAccess,
  mapUniversitiesToDomains,
  getUniversityFromEmail,
  generateUniversityList
} = require('./functions');

// List of universities that have a CS dept.
const csUniversities = [
    "Arizona State University", "Auburn University", "Binghamton University", "Binghamton University", "Boston University", "Boston University", "Boston University", "Boston University", "Boston University", "Boston University", "Boston University", "Brandeis University", "Brandeis University", "Brown University", "Brown University", "California Institute of Technology", "Carnegie Mellon University", "Carnegie Mellon University", "Carnegie Mellon University", "Carnegie Mellon University", "Carnegie Mellon University", "Carnegie Mellon University", "Carnegie Mellon University", "Carnegie Mellon University", "Case Western Reserve University", "Case Western Reserve University", "Clemson University", "Colorado School of Mines", "Colorado State University", "Columbia University", "Columbia University", "Cornell University", "Cornell University", "Cornell University", "Cornell University", "Cornell University", "Cornell University", "Cornell University", "Cornell University", "Cornell University", "Duke University", "Duke University", "Duke University", "Florida State University", "George Mason University", "Georgia Institute of Technology", "Georgia Institute of Technology", "Georgia Institute of Technology", "Georgia Institute of Technology", "Harvard University", "Harvard University", "Harvard University", "Iowa State University", "Johns Hopkins University", "Louisiana State University", "Massachusetts Institute of Technology", "Massachusetts Institute of Technology", "Massachusetts Institute of Technology", "Massachusetts Institute of Technology", "Massachusetts Institute of Technology", "Michigan State University", "Michigan State University", "Mississippi State University", "Montana State University", "New Jersey Institute of Technology", "New York University", "New York University", "New York University", "North Carolina State University", "North Carolina State University", "North Dakota State University", "Northeastern University", "Northeastern University", "Northwestern University", "Northwestern University", "Old Dominion University", "Oregon State University", "Oregon State University", "Oregon State University", "Princeton University", "Purdue University", "Purdue University", "Purdue University", "Purdue University", "Rensselaer Polytechnic Institute", "Rice University", "Rice University", "Rutgers University-New Brunswick", "Rutgers University-New Brunswick", "Rutgers University-New Brunswick", "Stony Brook University", "Stony Brook University", "Texas A&M University", "Texas Tech University", "Tufts University", "Tulane University", "Tulane University", "University at Buffalo", "University at Buffalo", "University of Alabama", "University of Arizona", "University of California, Berkeley", "University of California, Irvine", "University of California, Irvine", "University of California, Irvine", "University of California, Irvine", "University of California, Irvine", "University of California, Irvine", "University of California, Los Angeles", "University of California, Riverside", "University of California, Riverside", "University of California, Santa Barbara", "University of California, Santa Barbara", "University of California, Santa Barbara", "University of Chicago", "University of Delaware", "University of Florida", "University of Georgia", "University of Houston", "University of Illinois Chicago", "University of Illinois Urbana-Champaign", "University of Iowa", "University of Kentucky", "University of Louisiana at Lafayette", "University of Louisville", "University of Maryland, College Park", "University of Maryland, College Park", "University of Maryland, College Park", "University of Maryland, College Park", "University of Maryland, College Park", "University of Massachusetts Amherst", "University of Memphis", "University of Miami", "University of Michigan", "University of Michigan", "University of Michigan", "University of Michigan", "University of Michigan", "University of Michigan", "University of Michigan", "University of Michigan", "University of Michigan", "University of Michigan", "University of Minnesota", "University of Nebraska-Lincoln", "University of Nevada, Reno", "University of New Mexico", "University of North Carolina at Chapel Hill", "University of North Texas", "University of Oregon", "University of Pennsylvania", "University of Pennsylvania", "University of Pittsburgh", "University of Rochester", "University of South Florida", "University of Southern California", "University of Tennessee", "University of Texas at Arlington", "University of Texas at Austin", "University of Texas at Austin", "University of Texas at El Paso", "University of Utah", "University of Washington", "University of Wisconsin-Milwaukee", "Virginia Commonwealth University", "Virginia Tech", "Washington State University", "Washington University in St. Louis", "Wayne State University", "West Virginia University", "Yale University"
]

// List of email domains of direct contact to each university's CS dept.
const csEmailDomains1 = [
    "asu.edu", "auburn.edu", "binghamton.edu", "binghamton.edu", "bu.edu", "bu.edu", "bu.edu", "bu.edu", "bu.edu", "bu.edu", "bu.edu", "brandeis.edu", "brandeis.edu", "gmail.com", "brown.edu", "cms.caltech.edu", "cs.cmu.edu", "andrew.cmu.edu", "cs.cmu.edu", "cmu.edu", "andrew.cu.edu", "cmu.edu", "cs.cmu.edu", "ece.cmu.edu", "case.edu", "case.edu", "clemson.edu", "mines.edu", "colostate.edu", "cs.columbia.edu", "cs.columbia.edu", "cornell.edu", "cornell.edu", "cornell.edu", "cornell.edu", "cs.cornell.edu", "cs.cornell.edu", "cornell.edu", "cornell.edu", "cornell.edu", "duke.edu", "duke.edu", "cs.duke.edu", "fsu.edu", "gmu.edu", "gatech.edu", "gatech.edu", "gatech.edu", "gatech.edu", "seas.harvard.edu", "seas.harvard.edu", "seas.harvard.edu", "iastate.edu", "jhu.edu", "lsu.edu", "mit.edu", "csail.mit.edu", "mit.edu", "csail.mit.edu", "csail.mit.edu", "msu.edu", "msu.edu", "cse.msstate.edu", "montana.edu", "njit.edu", "cs.nyu.edu", "cims.nyu.edu", "nyu.edu", "ncsu.edu", "ncsu.edu", "ndsu.edu", "northeastern.edu", "northeastern.edu", "northwestern.edu", "northwestern.edu", "odu.edu", , , , "cs.princeton.edu", , "cerias.purdue.edu", , , , "rice.edu", "rice.edu", "rutgers.edu", "rutgers.edu", "rutgers.edu", "cs.stonybrook.edu", "cs.stonybrook.edu", "tamu.edu", "ttu.edu", "cs.tufts.edu", "tulane.edu", "tulane.edu", "buffalo.edu", "buffalo.edu", "cs.ua.edu", "cs.arizona.edu", "eecs.berkeley.edu", "uci.edu", "uci.edu", "ics.uci.edu", "uci.edu", "uci.edu", "uci.edu", "cs.ucla.edu", "ucr.edu", "ucr.edu", "ucsb.edu", "ucsb.edu", "ucsb.edu", "cs.uchicago.edu", "udel.edu", , , , "uic.edu", "cs.illinois.edu", "list.uiowa.edu", , , "louisville.edu", , "cs.umd.edu", "cs.umd.edu", "cs.umd.edu", "cs.umd.edu", "cs.umass.edu", , "cs.miami.edu", "umich.edu", , "umich.edu", "umich.edu", "umich.edu", "umich.edu", "umich.edu", "umich.edu", "umich.edu", "umich.edu", , , , , "cs.unc.edu", , "uoregon.edu", "cis.upenn.edu", "seas.upenn.edu", "pitt.edu", "cs.rochester.edu", "usf.edu", , "utk.edu", , "utexas.edu", "cs.utexas.edu", , , , , , , , "wustl.edu", , 
]

// List of email domains of dept. chair of each university's CS dept.
const csEmailDomains2 = [
    "asu.edu", "auburn.edu", "cs.binghamton.edu", "cs.binghamton.edu", "bu.edu", "bu.edu", "bu.edu", "bu.edu", "bu.edu", "bu.edu", "bu.edu", "brandeis.edu", "brandeis.edu", "brown.edu", "brown.edu", "caltech.edu", "cs.cmu.edu", "cs.cmu.edu", "cs.cmu.edu", "cs.cmu.edu", "cs.cmu.edu", "cs.cmu.edu", "cs.cmu.edu", "cs.cmu.edu", "case.edu", "case.edu", "clemson.edu", "mines.edu", "colostate.edu", "cs.columbia.edu", "cs.columbia.edu", "cs.cornell.edu", "cs.cornell.edu", "cs.cornell.edu", "cs.cornell.edu", "cs.cornell.edu", "cs.cornell.edu", "cs.cornell.edu", "cs.cornell.edu", "cs.cornell.edu", "duke.edu", "duke.edu", "duke.edu", "fsu.edu", "gmu.edu", "gatech.edu", "gatech.edu", "gatech.edu", "gatech.edu", "seas.harvard.edu", "seas.harvard.edu", "harvard.edu", "iastate.edu", "cs.jhu.edu", "lsu.edu", "csail.mit.edu", "csail.mit.edu", "csail.mit.edu", "csail.mit.edu", "csail.mit.edu", "msu.edu", "msu.edu", "cse.msstate.edu", "montana.edu", "njit.edu", "cs.nyu.edu", "courant.nyu.edu", "courant.nyu.edu", "ncsu.edu", "ncsu.edu", "ndsu.edu", "northeastern.edu", "northeastern.edu", "northwestern.edu", "northwestern.edu", "odu.edu", , , , "cs.princeton.edu", "cs.purdue.edu", "cs.purdue.edu", "cs.purdue.edu", "cs.purdue.edu", "cs.rpi.edu", "rice.edu", "rice.edu", "cs.rutgers.edu", "cs.rutgers.edu", "cs.rutgers.edu", "cs.stonybrook.edu", "cs.stonybrook.edu", "cse.tamu.edu", "ttu.edu", "tufts.edu", "tulane.edu", "tulane.edu", "buffalo.edu", "buffalo.edu", "cs.ua.edu", "cs.arizona.edu", "eecs.berkeley.edu", "uci.edu", "uci.edu", "uci.edu", "uci.edu", "uci.edu", "uci.edu", "cs.ucla.edu", "ucr.edu", "ucr.edu", "cs.ucsb.edu", "cs.ucsb.edu", "cs.ucsb.edu", "cs.uchicago.edu", "udel.edu", "ufl.edu", "uga.edu", "cs.uh.edu", "uic.edu", "illinois.edu", "uiowa.edu", "netlab.uky.edu", "louisiana.edu", "louisville.edu", "cs.umd.edu", "cs.umd.edu", "cs.umd.edu", "cs.umd.edu", "cs.umd.edu", "cs.umass.edu", "memphis.edu", "miami.edu", "umich.edu", "umich.edu", "umich.edu", "umich.edu", "umich.edu", "umich.edu", "umich.edu", "umich.edu", "umich.edu", "umich.edu", "umn.edu", "unl.edu", "unr.edu", "cs.unm.edu", "cs.unc.edu", "unt.edu", "uoregon.edu", "cis.upenn.edu", "seas.upenn.edu", "cs.pitt.edu", "cs.rochester.edu", "usf.edu", "usc.edu", "utk.edu", "uta.edu", "cs.utexas.edu", "cs.utexas.edu", "utep.edu", "utah.edu", "cs.washington.edu", "uwm.edu", "vcu.edu", "vt.edu", "wsu.edu", "wustl.edu", "wayne.edu", "mail.wvu.edu", "yale.edu"
]

// Map of universities that have a CS dept. and their respective email domains
const csMappedUniversities = mapUniversitiesToDomains(csUniversities, csEmailDomains1, csEmailDomains2);

// List of universities that have a CS dept. ranked
const csUniversityRanking = [
  "Carnegie Mellon University", "Massachusetts Institute of Technology", "Stanford University", "University of California, Berkeley", "University of Illinois Urbana-Champaign", "Cornell University", "Georgia Institute of Technology", "University of Texas at Austin", "University of Washington", "Princeton University", "University of Michigan", "Columbia University", "California Institute of Technology", "University of California, Los Angeles", "University of California, San Diego", "University of Wisconsin–Madison", "Harvard University", "University of Maryland, College Park", "Purdue University", "University of Pennsylvania", "Duke University", "University of Southern California", "Yale University", "Johns Hopkins University", "University of Chicago", "University of Massachusetts Amherst", "Brown University", "New York University", "Northeastern University", "Northwestern University", "Ohio State University", "Rice University", "University of California, Irvine", "University of California, Santa Barbara", "University of North Carolina at Chapel Hill", "University of California, Davis", "University of Minnesota", "University of Virginia", "Boston College", "Virginia Tech", "Pennsylvania State University", "University of Colorado Boulder", "Rutgers University–New Brunswick", "University of Utah", "Washington University in St. Louis", "Arizona State University", "Boston University", "Stony Brook University", "Texas A&M University", "University of Florida", "Dartmouth College", "Indiana University Bloomington", "North Carolina State University", "University of California, Santa Cruz", "University of Rochester", "Vanderbilt University", "Michigan State University", "Tufts University", "University of California, Riverside", "University of Notre Dame", "University of Pittsburgh", "University at Buffalo", "University of Arizona", "University of Illinois Chicago", "Emory University", "George Mason University", "Iowa State University", "Rensselaer Polytechnic Institute", "Tulane University", "University of Oregon", "University of Texas at Dallas", "Georgetown University", "George Washington University", "Oregon State University", "University of Central Florida", "University of Delaware", "Case Western Reserve University", "Colorado School of Mines", "Florida State University", "Syracuse University", "Baylor University", "University of Connecticut", "University of Iowa", "University of Maryland, Baltimore County", "Auburn University", "Clemson University", "Drexel University", "New Jersey Institute of Technology", "University of Georgia", "University of Nebraska–Lincoln", "University of Tennessee", "Washington State University", "Binghamton University", "Colorado State University", "Temple University", "University of Texas at Arlington", "University of Alabama", "University of Kansas", "University of Kentucky", "University of New Mexico", "University of South Florida", "Brandeis University", "Florida International University", "Georgia State University", "Kansas State University", "University of Cincinnati", "University of Houston", "University of Missouri", "University of South Carolina", "Wayne State University", "Graduate Center, CUNY", "Louisiana State University", "University at Albany, SUNY", "University of Hawaii at Manoa", "University of New Hampshire", "University of Oklahoma", "University of Texas at San Antonio", "Utah State University", "Mississippi State University", "Ohio University", "University of Alabama at Birmingham", "University of Arkansas", "University of Louisville", "University of Miami", "University of Mississippi", "University of North Texas", "West Virginia University", "Kent State University", "Oklahoma State University–Stillwater", "Old Dominion University", "Texas Tech University", "University of Louisiana at Lafayette", "University of Maine", "University of Nevada, Las Vegas", "University of Wisconsin–Milwaukee", "Virginia Commonwealth University", "Montana State University", "University of Alabama in Huntsville", "University of Colorado Denver", "University of Memphis", "University of Texas at El Paso", "North Dakota State University", "University of Nevada, Reno", "University of Denver", "University of Southern Mississippi", "University of Montana"
];

function main() {
  const rl = readline.createInterface({
    input: process.stdin,
    output: process.stdout
  });

  rl.question('Please enter your email: ', (email) => {
    if (!hasAccess(email, csEmailDomains1, csEmailDomains2)) {
      rl.close();
      return;
    }

    const university = getUniversityFromEmail(email, csMappedUniversities);

    if (university) {
      console.log(`University associated with your email: ${university}`);
      const universityList = generateUniversityList(university, csUniversityRanking);
      console.log("Here are the universities ranked 20 places higher and 20 places lower:");
      console.log(universityList.join("\n"));
    } else {
      console.log("The email domain is not associated with any university in the list.");
    }

    rl.close();
  });
}

// Run the main function
main();